<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" href="js/libs/bootstrap-modal/bootstrap-modal.css" type="text/css"/>

        <title>Mega Service</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .selectword:hover{
                display: block;
                background: #08c;
                cursor: pointer;


            }


        </style>

    </head>
    <body >
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="page-header">
                        <h1>
                            <a href="index.html">Mega Service</a> 


                        </h1>


                    </div>

                    <div class="row">
                        <div class="col-md-1">


                        </div>
                        <div class="col-md-10" id="home">
                            <div id="customerReg" style="float:left; margin-left: 5%;">

                                <img src="img/images.png" width="200" height="200" class="img-circle" alt=""/>
                                <p style="text-align: center;">Customer Registration</p>

                            </div>
                            <div id="cashinout" style="float:left;margin-left: 5%;">

                                <img src="img/payment.png" width="200" height="200" class="img-circle" alt=""/>
                                <p style="text-align: center;">Cash IN-OUT</p>

                            </div>
                            <div id="viewer" style="float:left;margin-left: 5%;">

                                <img src="img/booking-icon.png" width="200" height="200" class="img-circle" alt=""/>
                                <p style="text-align: center;">View</p>

                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div id="frmCustomerReg"> 
                                        <table>
                                            <tr>
                                                <td>
                                                    <div class="form-group">

                                                        Name:
                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <input type="text" id="txtname" class="form-control" required="" /> 
                                                    </div>

                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <div class="form-group">
                                                        Type : 

                                                    </div>

                                                </td>

                                                <td>
                                                    <div class="form-group">
                                                        <select class="form-control" id="type" onchange="gettypeid(this.value)">
                                                            <option value="0" >--Select--</option>

                                                        </select>

                                                    </div>

                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <div class="form-group">

                                                        Contact Info:
                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <input type="text" id="txtContactInfo" class="form-control" required="" /> 
                                                    </div>

                                                </td>

                                            </tr>

                                            <tr>
                                                <td>
                                                    <div class="form-group">


                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <button type="button" id="btnAdd" class="form-control" >Submit</button> 
                                                    </div>

                                                </td> 
                                            </tr>

                                        </table>



                                    </div>


                                </div>

                                <div class="col-md-6">
                                    <table class="table table-hover" id="tblCustomer" >
                                        <tr>
                                            <th>
                                                Name

                                            </th>

                                            <th>
                                                Type

                                            </th>

                                        </tr>


                                    </table>

                                </div>


                            </div>
                            <!--//////////////////////////////////cashinout////////////////////-->

                            <div class="row">
                                <div class="col-md-6">
                                    <div id="frmcashinout"> 
                                        <table>

                                            <tr>
                                                <td>
                                                    <div class="form-group">
                                                        Customer Name : 

                                                    </div>

                                                </td>

                                                <td>
                                                    <div class="form-group">
                                                        <select class="form-control" id="cashinoutCustomername" onchange="getcustomerid(this.value)">
                                                            <option value="0" >--Select--</option>

                                                        </select>

                                                    </div>

                                                </td>
                                            </tr>

                                            <tr>
                                                <td>
                                                    <div class="form-group">
                                                        Pay Type : 

                                                    </div>

                                                </td>

                                                <td>
                                                    <div class="form-group">
                                                        <select class="form-control" id="cashinoutPaytype" >
                                                            <option value="0" >--Select--</option>
                                                            <option value="Credit" >Credit</option>
                                                            <option value="Debit" >Debit</option>

                                                        </select>

                                                    </div>

                                                </td>
                                            </tr>



                                            <tr>
                                                <td>
                                                    <div class="form-group">

                                                        Amount:
                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <input type="text" id="txtCashinoutAmount" class="form-control" required /> 
                                                    </div>

                                                </td>

                                            </tr>

                                            <tr>
                                                <td>
                                                    <div class="form-group">

                                                        Description :
                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <input type="text" id="txtCashinoutDescription" class="form-control" /> 
                                                    </div>

                                                </td>

                                            </tr>


                                            <tr>
                                                <td>
                                                    <div class="form-group">


                                                    </div>
                                                </td>

                                                <td>
                                                    <div class="form-group">

                                                        <button type="button" id="btnCashinoutAdd" class="form-control" >Submit</button> 
                                                    </div>

                                                </td> 
                                            </tr>



                                        </table>









                                    </div>

                                </div>

                                <div class="col-md-6">
                                    <table class="table table-hover" id="tblcashinout" >
                                        <tr>
                                            <th>
                                                Name

                                            </th>

                                            <th>
                                                Type

                                            </th>
                                            <th>
                                                Amount

                                            </th>

                                        </tr>


                                    </table>

                                </div>


                            </div>

                            <!--/////////////////////////////////////view//////////////////////////// -->
                            <div class="row">
                                <div class="col-md-6">
                                    <div id="frmview"> 

                                        <div class="form-group">
                                            Customer Name : 

                                        </div>


                                        <div class="form-group">
                                            <input type="text" id="txtViewName" class="form-control"  />
                                            <div id="displayCustomer" >



                                            </div>

                                        </div><br>








                                        <div class="form-group">


                                        </div>

                                        <div class="form-group">

                                            <button type="button" id="btnView" class="form-control" >View</button> 
                                        </div>

                                    </div>

                                </div>

                                <div class="col-md-6">
                                    <table class="table table-hover" id="tblview" >
                                        <tr>
                                            <th>
                                                Name

                                            </th>

                                            <th>
                                                Type

                                            </th>
                                            <th>
                                                Amount

                                            </th>

                                        </tr>


                                    </table>

                                </div>


                            </div>



                            <!--////////////////////////////////////////////////////////////////////////////////model-->
                            <div id="msg">
                                <div class="modal fade" id="modal-container-592882" role="dialog" aria-labelledby="largeModal" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">

                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                                    ×
                                                </button>
                                                <h4 class="modal-title" id="msgTitle">
                                                    Modal title
                                                </h4>
                                            </div>
                                            <div class="modal-body" id="msgBody">
                                                ...
                                            </div>

                                            <div class="modal-footer">

                                                <button type="button" class="btn btn-default" data-dismiss="modal" id="msgbtnClose">
                                                    Close
                                                </button> 
                                                <button type="button" class="btn btn-primary" id="msgbtnSave">
                                                    Yes
                                                </button>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>
                            <!--////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->


                        </div>
                        <div class="col-md-1">


                        </div>


                    </div>

                </div>

            </div>


        </div>

        <script src="js/boostrap/bootstrap.min.js" type="text/javascript"></script>
        <script src="js/boostrap/jquery.min.js" type="text/javascript"></script>
        <script src="js/boostrap/scripts.js" type="text/javascript"></script>
        <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

        <script>



                                                            $(document).ready(function () {
                                                                $("#frmCustomerReg").hide();
                                                                $("#tblCustomer").hide();
                                                                $("#frmcashinout").hide();
                                                                $("#tblcashinout").hide();
                                                                $("#frmview").hide();
                                                                $("#tblview").hide();

                                                                $("#btnAdd").click(function () {

                                                                    if (customer_id == 0) {
                                                                        $.ajax({
                                                                            type: 'POST',
                                                                            url: "php/setcustomer.php",
                                                                            data: {typeid: typeid, name: $("#txtname").val(), type: typename, contactinfo: $("#txtContactInfo").val()},
                                                                            success: function (data) {
                                                                                // alert(data);
                                                                                getcustomer();
                                                                            }


                                                                        });

                                                                    } else {
                                                                        $.ajax({
                                                                            type: 'POST',
                                                                            url: "php/updatecustomer.php",
                                                                            data: {id: customer_id, typeid: typeid, name: $("#txtname").val(), type: typename, contactinfo: $("#txtContactInfo").val()},
                                                                            success: function (data) {
                                                                                alert("Data Updated!");
                                                                                getcustomer();
                                                                            }
                                                                        });


                                                                    }

                                                                    customer_id = 0;
                                                                });

                                                                $("#btnCashinoutAdd").click(function () {
                                                                    if (customer_id == 0) {
                                                                        $.ajax({
                                                                            type: 'POST',
                                                                            url: "php/setcashinout.php",
                                                                            data: {customerid: cashcustomerid, cashinouttype: $("#cashinoutPaytype").val(), amount: $("#txtCashinoutAmount").val(), description: $("#txtCashinoutDescription").val()},
                                                                            success: function (data) {
                                                                                alert("saved!");

                                                                            }


                                                                        });






                                                                    }



                                                                });

                                                            });

                                                            $("#btnback").click(function () {
                                                                $(this).slideUp(1000);

                                                                $("#customerReg").slideDown()
                                                                $("#cashinout").slideDown();
                                                                $("#viewer").slideDown();
                                                                $("#tblcashinout").slideUp();
                                                                $("#frmcashinout").slideUp();





                                                            });



                                                            var customer_id = 0;
                                                            function setid(id) {
                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/setcustomerupdate.php",
                                                                    dataType: 'xml',
                                                                    data: {id: id},
                                                                    success: function (xml) {
                                                                        $(xml).find('customer').each(function () {
                                                                            $("#txtname").val($(this).find('name').text());
                                                                            $("#type").val($(this).find('type').text());
                                                                            $("#txtContactInfo").val($(this).find('contactinfo').text());


                                                                        });
                                                                    }

                                                                });

                                                                customer_id = id;
                                                            }



                                                            function del(id) {


                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/deletecustomer.php",
                                                                    data: {id: id},
                                                                    success: function (data) {
                                                                        getcustomer();
                                                                    }

                                                                });

                                                            }

                                                         var cashinout_idd=0;
                                                            function setcashid(id) {
                                                               // alert(id);
                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/setcashinoutupdate.php",
                                                                    dataType: 'xml',
                                                                    data: {id: id},
                                                                    success: function (xml) {
                                                                        
                                                                       
                                                                        $(xml).find('cashinout').each(function () {
                                                                           
                                                                            $("#cashinoutCustomername").val($(this).find('name').text());
                                                                            $("#cashinoutPaytype").val($(this).find('type').text());
                                                                            $("#txtCashinoutAmount").val($(this).find('amount').text());
                                                                            $("#txtCashinoutDescription").val($(this).find('description').text());


                                                                        });

                                                                    }


                                                                });
                                                                
                                                               cashinout_idd=id;


                                                            }

                                                            function delcashid(id) {



                                                            }

                                                            function getcustomer() {
                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/getcustomer.php",
                                                                    data: {},
                                                                    success: function (data) {
                                                                        $("#tblCustomer").html(data);
                                                                    }


                                                                });


                                                            }

                                                            function getcashinout() {
                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/getcushinout.php",
                                                                    data: {},
                                                                    success: function (data) {
                                                                        $("#tblcashinout").html(data);
                                                                    }

                                                                });


                                                            }




                                                            $("#customerReg").click(function () {
                                                                $(this).slideUp(1000);
                                                                $("#cashinout").slideUp(1000);
                                                                $("#viewer").slideUp(1000);
                                                                $("#frmCustomerReg").slideDown();
                                                                $("#tblCustomer").slideDown();

                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/gettype.php",
                                                                    data: {},
                                                                    success: function (data) {
                                                                        $("#type").html(data);
                                                                    }
                                                                });

                                                                getcustomer();
                                                            });

                                                            $("#cashinout").click(function () {
                                                                $(this).slideUp(1000);
                                                                $("#customerReg").slideUp(1000);
                                                                $("#viewer").slideUp(1000);
                                                                $("#frmcashinout").slideDown();
                                                                $("#tblcashinout").slideDown();



                                                                $.ajax({
                                                                    type: 'POST',
                                                                    url: "php/getcustomerforcashinout.php",
                                                                    data: {},
                                                                    success: function (data) {
                                                                        $("#cashinoutCustomername").html(data);

                                                                    }

                                                                });

                                                                getcashinout();



                                                            });

                                                            $("#viewer").click(function () {
                                                                $(this).slideUp(1000);
                                                                $("#customerReg").slideUp(1000);
                                                                $("#cashinout").slideUp(1000);
                                                                $("#frmview").slideDown();
                                                                $("#tblview").slideDown();



                                                            });

                                                            var typeid = 0;
                                                            var typename = 0;
                                                            function gettypeid(id) {
                                                                var arr = 0;
                                                                arr = id.split(":");

                                                                typeid = arr[0];
                                                                typename = arr[1];



                                                            }
                                                            var cashcustomerid = 0;
                                                            var cashcusname = 0;
                                                            function getcustomerid(id) {
                                                                var arr = 0;
                                                                arr = id.split(":");

                                                                cashcustomerid = arr[0];
                                                                cashcusname = arr[1];


                                                            }

                                                            var options = {
                                                                "backdrop": "static"


                                                            }

                                                            function getword() {

                                                                $.ajax({
                                                                    url: "php/getcustomername.php",
                                                                    type: 'POST',
                                                                    data: {word: $("#txtViewName").val()},
                                                                    success: function (data) {
                                                                        $("#displayCustomer").html(data);
                                                                        document.getElementById("displayCustomer").style.border = "1px solid #A5ACB2";
                                                                    }


                                                                });


                                                            }

                                                            $("#txtViewName").keyup(function () {
                                                                $("#displayCustomer").show();
                                                                getword();


                                                            });

                                                            var customerid = 0;
                                                            function setcustomerid(id) {
                                                                customerid = id;
                                                                alert(id);

                                                            }

        </script>
    </body>
</html>
